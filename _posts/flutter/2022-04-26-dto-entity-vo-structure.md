---
layout: post
title: '[Flutter] - DTO, VO, Entity (í”„ë¡œì íŠ¸ êµ¬ì¡° ê³ ë¯¼)'
subtitle: 'Flutter DTO, VO, Entity with structure'
categories: flutter
tags: flutter dto vo entity structure
comments: true
---


ë¨¼ì € ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œì— ë”°ë¼ ë‚´ìš©ì´ ì¢€ ë‹¬ë¼ì§€ëŠ”ê²ƒ ê°™ë‹¤.

flutterê¸°ì¤€ì—ì„œ í•œë²ˆ ê³ ë¯¼í•´ë³´ì.

ë¨¼ì €, DTO, VO, Model, Entityì— ëŒ€í•œ ë‚´ìš©ì„ í™•ì¸í•´ë³´ì.

### ****DTO (Data Transfer Object)****

---

****ê° ê³„ì¸µê°„ ë°ì´í„° êµí™˜ì„ ìœ„í•œ ê°ì²´****

(ex. View <-(DTO)-> Controller <-(DTO)->Â ServiceÂ )

- ë¡œì§ì„ ê°€ì§€ì§€ ì•ŠëŠ” ìˆœìˆ˜í•œ ë°ì´í„° ê°ì²´

> setterë„ ë§Œë“¤ì§€ ì•Šê³  contructorì—ì„œ ê°’ì„ í• ë‹¹í•œë‹¤.
> 

### VO (****Value Object)****

---

- ë¶ˆë³€ ê°ì²´ì´ê³  Equals ë©”ì†Œë“œë¥¼ ì§€ì›í•´ ë¹„êµ ì—°ì‚°ì´ ê°€ëŠ¥í•˜ë‹¤.

### ****Entity****

---

****ì‹¤ì œ DB í…Œì´ë¸”ê³¼ ë§¤ì¹­ë  í´ë˜ìŠ¤****

- Domain Logicë§Œ ê°€ì§€ê³  ìˆì–´ì•¼ í•˜ê³  Presentation Logicì„ ê°€ì§€ê³  ìˆì–´ì„  ì•ˆëœë‹¤.
- ì£¼ë¡œ Service Layerì—ì„œ ì‚¬ìš©

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cb8150d2-678d-4d96-b0c4-cddced161720/Untitled.png)

ì•„í‚¤í…ì³ë¥¼ ìƒê°í•´ë³´ë©´

ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ DAOë¥¼ í†µí•´ì„œ ë°ì´í„°ê°€ ë“¤ì–´ì™€ 

ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í†µê³¼í•´ì„œ

í™”ë©´ì— ê°€ê³µëœ ë°ì´í„°ê°€ ë¿Œë ¤ì ¸ì•¼ í•œë‹¤.

## ì¶”ê°€ ì •ë¦¬

---

[https://stackoverflow.com/questions/39397147/difference-between-entity-and-dto](https://stackoverflow.com/questions/39397147/difference-between-entity-and-dto)

ìœ„ì—ì„œ ì¢‹ì€ ì •ë¦¬ê¸€ì„ ë°œê²¬í•˜ì˜€ë‹¤.

> "ë°ì´í„° ì „ì†¡ ê°œì²´"(DTO)ë¼ëŠ” ìš©ì–´ëŠ” ë§¤ìš° ëª…í™•í•˜ê²Œ ì •ì˜ë˜ì§€ë§Œ "ì—”í‹°í‹°"ë¼ëŠ” ìš©ì–´ëŠ” ë‹¤ì–‘í•œ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë‹¤ë¥´ê²Œ í•´ì„ë©ë‹ˆë‹¤.
> 

ê·¸ë˜ì„œ EntityëŠ” ì•„ë˜ì™€ ê°™ì´ í¬ê²Œ 3ê°€ì§€ë¡œ í•´ì„ëœë‹¤.

1. *ì—”í„°í”„ë¼ì´ì¦ˆ Java ë° jpaì˜ ì»¨í…ìŠ¤íŠ¸ì—ì„œ:*"ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìœ ì§€ ê´€ë¦¬ë˜ëŠ” ì˜êµ¬ ë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°œì²´ì…ë‹ˆë‹¤." â‡’ Springì—ì„œì˜ Entity (DB í…Œì´ë¸” ë§¤í•‘ëœ ê°ì²´)
    
    > DB í…Œì´ë¸” ë§¤í•‘ëœ ê°ì²´ëŠ” DTOì™€ ìœ ì‚¬í•˜ì—¬ ì—¬ê¸°ì„œ í˜¼ë€ì´ ë§ì´ ë°œìƒ
    > 
2. *"domain-driven-design"ì˜ ë§¥ë½ì—ì„œ(Eric Evans ì‘ì„±):*"ì£¼ë¡œ ì†ì„±ë³´ë‹¤ëŠ” IDì— ì˜í•´ ì •ì˜ëœ ê°œì²´ì…ë‹ˆë‹¤."
3. *"í´ë¦° ì•„í‚¤í…ì²˜"(Robert C. Martin ì‘ì„±)ì˜ ë§¥ë½ì—ì„œ:*"ì „ì‚¬ì ì¸ ì¤‘ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ìº¡ìŠí™”í•˜ëŠ” ê°œì²´."

<aside>
ğŸ’¡ ì´ê±¸ ë³´ë‹ˆ ì´ì œ ì¡°ê¸ˆ ì •ë¦¬ë˜ì—ˆë‹¤.
ì–´ë””ì„œëŠ” Entityê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ì˜ ê°ì²´ë¡œ ì“°ì´ê³  ì–´ë””ì„œëŠ” DBì™€ ì—°ê´€ëœ ê°ì²´ë¡œ ì„¤ëª…ì„ í•´ì„œ ë§ì´ í–‡ê°ˆë ¸ì—ˆë‹¤...
ë‹¹ì¥ Flutterì—ì„œëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œì˜ Entityë¡œ í•´ì„í•˜ë©´ ë ê²ƒ ê°™ë‹¤.

</aside>

## ì ìš©

---

### í˜„ì¬ ìƒí™©

---

ì´ì œ ê·¸ëŸ¼ ìš°ë¦¬ í”„ë¡œì íŠ¸ì—ì„œ ì–´ë–»ê²Œ ì ìš©í•˜ë©´ ì¢‹ì„ì§€ ê³ ë¯¼í•´ë³´ì.

í˜„ì¬ í”„ë¡ íŠ¸ ê°œë°œì 3ëª… ë°±ì—”ë“œ 1ëª…ì¸ ì†Œê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œ (ê²Œë‹¤ê°€ ì¥¬ë‹ˆì–´ ê°œë°œìë“¤)

ë¹ ë¥¸ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ì‹œì¥ ë°˜ì‘ì„ ë³´ê¸° ìœ„í•œ ì•±ì„ ê°œë°œí•œë‹¤ëŠ” ì¡°ê±´ì—ì„œ

ë¬´ê±°ìš´ í”„ë¡œì íŠ¸ êµ¬ì¡°ëŠ” ì•„ë‹ˆë¼ê³  íŒë‹¨í–ˆë‹¤.

entity, dto, vo ë‹¤ ë§Œë“¤ì–´ì„œ ê²¬ê³ í•˜ê²Œ ë§Œë“œëŠ” ì„ íƒë„ ìˆê² ì§€ë§Œ

ë„ˆë¬´ ì½”ë“œê°€ ë§ì•„ì§€ê³ , ì´ êµ¬ì¡°ë¥¼ ì´í•´ì‹œí‚¤ê³  í¸í•˜ê²Œ ì‚¬ìš©í•˜ê¸°ê¹Œì§€ë„ ëŸ¬ë‹ì»¤ë¸Œê°€ ìˆìœ¼ë‹ˆ

ìµœì†Œí•œì˜ êµ¬ì¡°ë¡œ í”„ë¡œì íŠ¸ë¥¼ ìš´ì˜í•˜ê³ ì í•œë‹¤.

### Entity? Model? VO?

---

ì¼ë‹¨ ì´ ê°œë…ì „ì— ê¸°ì¡´ì— ì§„í–‰í–ˆë˜ í”„ë¡œì íŠ¸ì—ì„œì˜ ë¶ˆí¸í•˜ê³  ì–´ë ¤ì› ë˜ì ì„ ì •ë¦¬í•´ë³´ì.

1. í•˜ë‚˜ì˜ ëª¨ë¸ì—ì„œ fromJson, toJsonìœ¼ë¡œ ëª¨ë“ ê±¸ ì²˜ë¦¬í•˜ëŠ”ê²Œ ë§¤ìš° ë¶ˆí¸í–ˆë‹¤.
ë‹¹ì¥ userë§Œ ë´ë„ ìƒì„±í• ë•Œ ë³´ë‚´ëŠ” ë°ì´í„°ì™€ ìƒì„±ëœ ìœ ì €ë¥¼ ë°›ì„ë•Œ ë°ì´í„°, ì—…ë°ì´íŠ¸í• ë•Œ ë°ì´í„°ê°€ ë‹¤ë¥´ë‹¤.
    
    > toCreateJson(), toUpdateJson() ì´ëŸ° ë°©ì‹ìœ¼ë¡œ í• ê¹Œ í•˜ë‹¤ê°€ ê·¸ëƒ¥ mapìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ì¤¬ë‹¤.
    flutterì—ì„œëŠ” mapì˜ keyê°€ stringì´ë¼ ì˜¤íƒ€ë‚˜ê¸° ì‰½ë‹¤
    > 
2. model ë°ì´í„°ë¥¼ formatingí•´ì„œ ë³´ì—¬ì¤˜ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤. ìš´ë™ ì•±ì´ë‹¤ ë³´ë‹ˆ ì†ë„, ê±°ë¦¬, í‰ê· ì†ë„, í‰ê·  í˜ì´ìŠ¤ ë“±ì˜ double ë°ì´í„°ê°€ í™”ë©´ì—ì„œëŠ” stringìœ¼ë¡œ í¬ë§·íŒ… ë˜ì•¼ í–ˆëŠ”ë° (ì—°ì‚° í¬í•¨) 
ì´ê±¸ í™”ë©´ì—ì„œ ë§¤ë²ˆ í•˜ë‹ˆ ì¤‘ë³µ ì½”ë“œê°€ ë§ì•˜ê³  ì´ê±¸ modelë¡œ ì˜®ê¸°ìë‹ˆ modelì´ ë„ˆë¬´ ëš±ëš±í•´ì ¸ì„œ ê´€ë¦¬í•˜ê¸° ì–´ë ¤ì›Œì¡Œë‹¤.

ì¼ë‹¨ 2ë²ˆì€ freezed ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“°ê³  custom methodë¥¼ ì“°ë©´ ì–´ëŠì •ë„ í•´ê²°ë ê²ƒ ê°™ë‹¤.

freezed ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì—¬ëŸ¬ ì¥ì ì´ ìˆì§€ë§Œ ë‚´ê°€ ëŠë¼ê¸°ì— ìµœê³ ì˜ ì¥ì ì€ ìƒì„±ëœ í•¨ìˆ˜ë¥¼ ë‹¤ ìˆ¨ê²¨ë²„ë¦°ë‹¤ëŠ” ê²ƒì´ë‹¤. 

> ë‚´ê°€ ì»¤ìŠ¤í…€í•œ ë‚´ìš©ë§Œ ë³´ì´ê¸°ì— ê°€ë…ì„±ì´ ì¢‹ë‹¤!
> 

ì—¬ê¸°ì„œ ê³ ë¯¼ì´ 1ë²ˆì´ë‹¤. nset.js ì—ì„œ í–ˆë˜ê²ƒ ì²˜ëŸ¼ login.dto, user.dto, password_change.dto ... (ì´ë²¤íŠ¸ ë³„ë¡œ) ê·¸ë¦¬ê³  Entity ì‚¬ì´ì—ì„œ mapper í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ë³€ê²½í•˜ëŠ” ë°©ë²•ë„ ìˆì„ê²ƒ ê°™ë‹¤

ê²°ë¡ ì€ modelë¡œ Entity, vo ë‹¤ í‰ì³ì„œ ì‚¬ìš©í•˜ê³  

actionë³„ë¡œ (ë„ë©”ì¸ë³„) ì •ë¦¬í•˜ì—¬ ê°œë°œí•´ë³´ì.  

> freezedë¥¼ ì‚¬ìš©í• ê±°ë¼ ë¶ˆë³€ê°ì²´ë¡œ ìƒì„±ë˜ë‹ˆ voì ì¸ íŠ¹ì„±ë„ ê°€ì§ˆê±°ë¼ íŒë‹¨ë˜ì—ˆë‹¤.
> 

## í´ë” êµ¬ì¡°

---

ì§€ê¸ˆ ìƒê°í•˜ëŠ” í´ë” êµ¬ì¡°ëŠ”

- data
    - auth
        - login
            - LoginRemoteRepository (with Retrofit)
            - LoginCacheRepository (option)
- Domain
    - auth
        - login
            - LoginModel (with Freezed)
            - LoginUseCaseImpl
- UI
    - page
        - LoginPage
    - ViewModel
        - auth
            - LoginViewModel
            - LoginUseCase

ìœ„ í´ë” êµ¬ì¡°ë¥¼ ì‚¬ìš©í•´ë³´ê³  í”¼ë“œë°±ì„ ë‹¬ì•„ë³´ì.