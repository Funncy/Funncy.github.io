---
layout: post
title: '[Flutter] - 교회 앱 만들기 - 0 '
subtitle: 'Flutter Church App 00'
categories: flutter
tags: flutter firebase firestore getx
comments: true
---

이번에 교회에서 새로운 토이 프로젝트를 하게 되었다.

교회 중보기도를 나누고 간단히 공지 및 예배 시간을 알려주는 앱이다.

이번에 공부하기로 한 GetX와 Firebase를 사용해서 만들어보려고 한다.

먼저 요구사항과 Model을 정리해보자.

### 요구사항

---

1. 공지 사항
   - 관리자만 작성 가능 (추후 Web으로)
   - 댓글, 좋아요 ⇒ 수정, 삭제 포함
   - 이미지 여러개 (당근마켓 처럼 글과 이미지 따로 구분)
   - 텍스트
2. 기도편지
   1. 공개 중보
      - 모두에게 공개, 기도함 화면에 리스트로 표시
   2. 목사님 중보 (비공개)
      - 추후 목사님 Web으로만 확인 가능
      - 답장 기능
3. 기도 일기 (모두에게 비공개)
   - 텍스트만
4. 나눔 게시판
   - 공지사항과 동일
5. 프로필
   - 로그아웃, 회원 탈퇴
   - 나의 기도 목록
   - 답장 목록

### DB

---

일단 FirebaseFireStore로 구현하고자 한다.

추후 Node.js 기반으로 옮길때 Mysql로 다시 migration을 해보자.

먼저 FireStore nosql에 맞춰 DB를 구성해보자.

1. core (모두에게 적용)
   - createdAt ⇒ 생성 시간
   - updatedAt ⇒ 수정 시간
   - deletedAt ⇒ 삭제 시간
   - isDeleted ⇒ 삭제 여부

> 일단 어떤 문제가 생길지 모르니 삭제하면 진짜 삭제하는게 아니라 특정 기간동안
> 보이지만 않게 구현할 예정

1. notice
   - did <String> ⇒ Document ID
   - uid <String> ⇒ 유저 식별
   - content <String>
   - Image List<String> ⇒ FireStorage URL
   - comment_count <int> ⇒ 내부 Collection 존재
   - favorites_count List<uid> ⇒ Uid 리스트로 표현
2. Comment
   - did <String> ⇒ Document ID
   - uid <String> ⇒ 유저 식별
   - content <String>
   - reply List<Reply> ⇒ 내부 Collection
3. Reply
   - did <String> ⇒ Document ID
   - uid <String> ⇒ 유저 식별
   - content <String>
4. Pray (공개 중보)
   - did <String> ⇒ Document ID
   - uid
   - content <String>
5. PrivatePray (비공개 중보)
   - did <String> ⇒ Document ID
   - uid
   - content <String>
   - Images List<String>
6. PrayReply
   - did <String> ⇒ Document ID
   - uid
   - content <String>
   - Images List<String>
7. PrayDiary
   - did <String> ⇒ Document ID
   - content <String>

다음에는 직접 GetX를 사용해 하나씩 구현해보자.
