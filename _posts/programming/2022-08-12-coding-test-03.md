---
layout: post
title: "[Algorithm] - 3. 프로그래머스 - 신규 아이디 추천 "
subtitle:   "algorithm - 3. programmers "
categories: algorithm
tags: algorithm
comments: true
---


[코딩테스트 연습 - 신규 아이디 추천](https://school.programmers.co.kr/learn/courses/30/lessons/72410)

해당 문제를 보자마자 정규표현식이 떠오르긴 했다.

하지만 막상 또 풀려고 하니 막히는 부분이 많았다.

아래는 내가 푼 코드이다.

```jsx
function solution(new_id) {

  const step1 = new_id.toLowerCase();
  const step2 = step1.replace(/[^\w-.]/g,'');
  const step3 = step2.replace(/\.+/g, '.');
  const step4 = step3.replace(/^\.|\.$/g,'');

  let result = '';
  if(step4.length == 0 )  {
    result = 'a';
  }else {
    result = step4;
  }

  if(result.length >= 15) result = result.substring(0,15).replace(/\.$/g, '');

  if(result.length <= 2) result = result.padEnd(3, result[result.length - 1]);
  
  return result;
    
   
}
```

> replaceAll이 안먹어서 replace로 대체하고 g 글로벌 옵션을 주었다.
> 

스탭 1 : 소문자 ⇒ toLowerCase() 함수 하나로 해결되기에 가장 간단하다.

스탭 2 : 다른 특수문자 제거 ⇒ 정규표현식으로 문자 _ - . 제외하고 다 공백으로 대체하게 하였다.

> 여기서 w는 소문자 글자인데 _도 포함한다
> 

스탭 3 : .이 여러개인 경우 1개로 대체한다.

> 여기서 .은 모든 문자이기 때문에 \. 으로 특수기호 . 을 표현해야한다.
> 

스탭 4 : 시작과 끝에 . 이 들어간 경우 .을 제거한다.

> | 연산을 통해 ^ 시작, $ 끝에 점이 있으면 공백으로 대체했다.
> 

다음이 5, 6단계 7단계가 정규표현식으로 해결하지 못한 부분이다.

5 단계 : 아이디가 빈 문자열이면 a로 대체한다.

6 단계 : 아이디가 16글자 이상이면 15개만 남기고 다 지운다, 혹시 마지막에 .으로 끝나면 .을 제거한다.

7단계 : 아이디가 2글자 이하면 마지막 문자를 글자길이 3이 될때까지 반복한다.

아래 다른 분의 코드를 봐보자.

```jsx
const solution = new_id =>
    new_id.toLowerCase() //1
          .replace(/[^\w-_.]/g, "") //2 
          .replace(/\.+/g, ".") //3
          .replace(/^\.|\.$/g, "") //4
          .replace(/^$/, "a") //5
          .match(/^.{0,14}[^.]/)[0] //6
          .replace(/^(.)$/, "$1$1$1") //7
          .replace(/^(.)(.)$/, "$1$2$2"); //8
```

위에서 5,6,7,8을 집중적으로 봐보자

5번 빈문자열인부분은 정규현식 /^$/ 으로 확인했다. 그럴 경우 a로 대체

6번은 15글자를 찾는 정규표현식인데 match를 활용하여 해당되는 배열을 반환받는다.

[String.prototype.match() - JavaScript | MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/String/match)

거기에 0번째 즉 딱 맞는 앞 부분만 뽑아왔다. 

마지막 7단계는 길이가 2개 이하인 경우에 대한 건데

. 을 사용해서 몇글자인지 확인을 한다 그런데 여기서 더 특별한 부분은 ( ) 을 사용해서 캡쳐링 기능을 사용한것 이다.

(.)(.) 이렇게 되면 2 글자면서 (1) (2) 2개의 캡쳐링이 생겨서

$1 $2 $2 이렇게 되면 1번째 캡쳐링 2번째 캡쳐링 2번째 캡쳐링으로 치환이 가능해진다.

이런게 가능한지 몰랐어서 또 한번 배웠다.

> padEnd로 해결하는 방식도 있다
> 

정규표현식은 정말 연습이 많이 필요한것 같다

날잡고 한번 쭉 사례별 테스트를 작성하면서 공부를 해봐야겠다