---
layout: post
title: "[Algorithm] - 5. 프로그래머스 - 오픈 채팅방 "
subtitle:   "algorithm - 5. programmers "
categories: algorithm
tags: algorithm
comments: true
---

[코딩테스트 연습 - 오픈채팅방](https://school.programmers.co.kr/learn/courses/30/lessons/42888)

내 코드이다.

```jsx
function solution(record) {

  const commands = [];
  const users = {};

  record.forEach((e)=>{
    const data = e.split(' ');
    const command = {
      command : data[0],
      uid : data[1],
      nickname : data[2],
    };
    commands.push(command);
    if(users[command.uid] === undefined) {
      users[command.uid] = command.nickname;
    }
    if(command.command === 'Enter') {
      users[command.uid] = command.nickname;
    }else if(command.command === 'Change') {
      users[command.uid] = command.nickname;
    }
  });

  const result = commands.map((e)=> {
    if(e.command === 'Enter') {
      return `${users[e.uid]}님이 들어왔습니다.`
    }else if(e.command === 'Leave') {
      return `${users[e.uid]}님이 나갔습니다.`;
    }
  }).filter((e)=> e !== undefined);

  return result;
  
}
```

이번 문제는 2레벨 치고는 생각보다 쉽게 풀었다.

아래는 다른 사람 풀이이다.

```jsx
function solution(record) {
    const userInfo = {};
    const action = [];
    const stateMapping = {
        'Enter': '님이 들어왔습니다.',
        'Leave': '님이 나갔습니다.'
    }

    record.forEach((v) => {
        const [state, id, nick] = v.split(' ');

        if(state !== "Change") {
            action.push([state, id]);
        }

        if(nick) {
            userInfo[id] = nick;
        }
    })

    return action.map(([state, uid]) => {
        return `${userInfo[uid]}${stateMapping[state]}`;    
    })
}
```

위 코드를 보고 많이 배웠다.

일단 비구조할당해제를 react에서는 쓰면서 여기서 안쓰는 나를 반성했다.

또한 stateMapping을 통해 문자열을 조합하는 부분이 실제 코드라면 더욱 좋은 점수를 받았을 것 같다.

내 코드도 이걸 보고 조금 더 정리해보았다.

```jsx
function solution(record) {

  const commands = [];
  const users = {};

  record.forEach((e)=>{
    const [command, uid, nickname] = e.split(' ');
 
    commands.push({command, uid});
 
    if(command === 'Enter') {
      users[uid] = nickname;
    }else if(command === 'Change') {
      users[uid] = nickname;
    }
  });

  return commands.map(({command, uid})=> {
    if(command === 'Enter') {
      return `${users[uid]}님이 들어왔습니다.`
    }else if(command === 'Leave') {
      return `${users[uid]}님이 나갔습니다.`;
    }
  }).filter((e)=> e !== undefined);

}
```